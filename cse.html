<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Google CSE Results</title>

    <script>
      window.__gcse = {
        callback: function () {
          console.log("✅ Google CSE loaded");
          window.cseReady = true;
        }
      };
    </script>
    <script async src="https://cse.google.com/cse.js?cx=9316b3d25d9954bca"></script>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
        background-color: #f0f4f8;
      }
      h2 {
        color: #1d3557;
      }
    </style>
  </head>
  <body>
    <h2>Search Results</h2>
    <div id="results">
      <gcse:searchresults-only></gcse:searchresults-only>
    </div>
    <script>
      function autoSearch(term) {
        let attempts = 0;
        const maxAttempts = 20;
        const interval = setInterval(() => {
          attempts++;
          if (window.cseReady && google?.search?.cse?.element) {
            const element = google.search.cse.element.getElement("searchresults-only0");
            if (element) {
              console.log("✅ Executing search:", term);
              element.execute(term);
              clearInterval(interval);
            }
          }
          if (attempts >= maxAttempts) {
            console.warn("❌ Failed to auto-search");
            clearInterval(interval);
          }
        }, 500);
      }
    </script>
  </body>
</html>
